<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Connexion – JaalibaDaily</title>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>

<!-- HEADER -->
<header>
  <nav class="nav">
    <div class="logo">
      <div class="logo-icon">JD</div>
      <span>JaalibaDaily</span>
    </div>

    <div class="nav-right" id="navRight"></div>
  </nav>
</header>

<!-- FORMULAIRE DE CONNEXION -->
<div style="
  max-width: 520px;
  margin: 4rem auto;
  padding: 2.5rem;
  background: white;
  border-radius: 22px;
  box-shadow: 0 25px 55px rgba(15,23,42,0.15);
  text-align: center;
  border: 1px solid rgba(148,163,184,0.25);
">
  
  <h1 style="margin-bottom:1.5rem; font-size:2rem;">Connexion</h1>

  <form id="loginForm" class="form-card" style="text-align:left;">
    
    <div>
      <label>Email</label>
      <input id="email" type="email" placeholder="exemple@mail.com" required />
    </div>

    <div>
      <label>Mot de passe</label>
      <input id="password" type="password" placeholder="••••••••" required />
    </div>

    <button class="btn btn-primary" id="loginBtn" style="margin-top: 0.5rem; width:100%; font-size:1rem;">
      Se connecter
    </button>

  </form>

  <p style="margin-top: 1.8rem; color: var(--muted); font-size:0.9rem;">
      Pas encore de compte ?<br>
      <a href="inscription.html" style="color: var(--primary-dark); font-weight:600; font-size:1rem;">
        Créer un compte →
      </a>
  </p>

</div>

<!-- SCRIPT CONNEXION -->
<script>
document.getElementById("loginForm").addEventListener("submit", (e) => {
  e.preventDefault(); // Empêche le rechargement de la page

  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();

  const users = JSON.parse(localStorage.getItem("users")) || [];

  const user = users.find(u => u.email === email && u.password === password);

  if (!user) {
    alert("Email ou mot de passe incorrect.");
    return;
  }

  // Sauvegarde de l'utilisateur connecté
  localStorage.setItem("currentUser", JSON.stringify(user));

  alert("Connexion réussie !");
  window.location.href = "profil.html";
});
</script>

<!-- SCRIPT NAVIGATION DYNAMIQUE -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const navRight = document.getElementById("navRight");
    const user = JSON.parse(localStorage.getItem("currentUser"));

    if (!user) {
        navRight.innerHTML = `
            <a href="connexion.html">Connexion</a>
            <a href="inscription.html">Créer un compte</a>
        `;
    } else {
        navRight.innerHTML = `
            <a href="index.html">Accueil</a>
            <a href="recherche.html">Rechercher</a>
            <a href="proposer.html">Proposer</a>
            <a href="mes-reservations.html">Mes réservations</a>
            <a href="profil.html">Profil</a>
            <button id="logoutBtn">Se déconnecter</button>
        `;
    }

    const logoutBtn = document.getElementById("logoutBtn");
    if (logo
