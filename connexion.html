<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Proposer un trajet – CovoitExpress</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --primary: #1c9ea8;
      --primary-dark: #15737b;
      --secondary: #ffcc4c;
      --bg: #f4f7fb;
      --text: #1f2933;
      --muted: #6b7280;
      --radius-lg: 18px;
      --shadow-soft: 0 18px 35px rgba(15, 23, 42, 0.12);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: radial-gradient(circle at top left, #e0f7fb, #f9fafb);
      color: var(--text);
      min-height: 100vh;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(14px);
      background-color: rgba(248, 250, 252, 0.9);
      border-bottom: 1px solid rgba(148, 163, 184, 0.25);
    }

    .nav {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0.8rem 1.25rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      font-weight: 800;
      font-size: 1.1rem;
      letter-spacing: .03em;
    }

    .logo-icon {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.1rem;
      box-shadow: 0 12px 24px rgba(12, 148, 136, 0.45);
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 1.25rem;
      font-size: 0.95rem;
      color: var(--muted);
    }

    .nav-links a:hover {
      color: var(--primary-dark);
    }

    .nav-cta {
      display: flex;
      gap: 0.75rem;
      align-items: center;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 0.55rem 1.2rem;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      font-weight: 600;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      box-shadow: 0 12px 25px rgba(15, 118, 110, 0.45);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 18px 35px rgba(15, 118, 110, 0.55);
    }

    .btn-outline {
      background: white;
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: var(--text);
    }

    .btn-outline:hover {
      border-color: var(--primary);
      color: var(--primary-dark);
      box-shadow: 0 10px 20px rgba(148, 163, 184, 0.45);
      transform: translateY(-1px);
    }

    main {
      max-width: 1120px;
      margin: 1.5rem auto 3.5rem;
      padding: 0 1.25rem;
    }

    .page-header {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      margin-bottom: 1.4rem;
    }

    .page-title {
      font-size: 1.7rem;
    }

    .page-subtitle {
      font-size: 0.95rem;
      color: var(--muted);
      max-width: 40rem;
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.7fr) minmax(0, 1.1fr);
      gap: 1.5rem;
      margin-top: 1rem;
    }

    .card {
      background: white;
      border-radius: var(--radius-lg);
      padding: 1.25rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    .section-title {
      font-size: 1rem;
      margin-bottom: 0.8rem;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      font-size: 0.9rem;
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.8rem;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      font-size: 0.84rem;
    }

    label {
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .field-input,
    .field-textarea,
    .field-select {
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      padding: 0.6rem 0.8rem;
      font-size: 0.9rem;
      outline: none;
      background: #f9fafb;
    }

    .field-textarea {
      resize: vertical;
      min-height: 70px;
    }

    .field-input:focus,
    .field-textarea:focus,
    .field-select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 1px rgba(14, 165, 233, 0.2);
      background: white;
    }

    .hint {
      font-size: 0.75rem;
      color: var(--muted);
    }

    .chip-inline {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      padding: 0.15rem 0.5rem;
      border-radius: 999px;
      background: #eef2ff;
      color: #4338ca;
      font-size: 0.7rem;
    }

    .price-input-group {
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .price-input-group span {
      font-size: 0.85rem;
      color: var(--muted);
    }

    .separator {
      height: 1px;
      background: rgba(226, 232, 240, 1);
      margin: 0.3rem 0 0.1rem;
    }

    .options-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem;
      margin-top: 0.5rem;
      font-size: 0.85rem;
    }

    .option-pill {
      border-radius: 999px;
      border: 1px solid rgba(209, 213, 219, 1);
      padding: 0.35rem 0.7rem;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      cursor: pointer;
      background: #f9fafb;
    }

    .option-pill input {
      margin: 0;
    }

    .checkbox-row {
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
      font-size: 0.82rem;
      color: var(--muted);
      margin-top: 0.5rem;
    }

    .checkbox-row input {
      margin-top: 0.13rem;
    }

    .submit-row {
      margin-top: 0.8rem;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 0.8rem;
    }

    .btn-full {
      width: 100%;
      justify-content: center;
      padding: 0.7rem 1.1rem;
    }

    .submit-note {
      font-size: 0.78rem;
      color: var(--muted);
    }

    /* Sidebar */
    .summary-row {
      display: flex;
      justify-content: space-between;
      font-size: 0.86rem;
      margin-bottom: 0.3rem;
    }

    .summary-row span:last-child {
      font-weight: 600;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      padding: 0.2rem 0.6rem;
      border-radius: 999px;
      background: rgba(34, 197, 165, 0.08);
      color: var(--primary-dark);
      font-size: 0.75rem;
      margin-bottom: 0.6rem;
      border: 1px solid rgba(34, 197, 165, 0.3);
    }

    .tips-list {
      margin-top: 0.6rem;
      font-size: 0.8rem;
      color: var(--muted);
      display: grid;
      gap: 0.35rem;
    }

    footer {
      border-top: 1px solid rgba(148, 163, 184, 0.35);
      padding: 1.5rem 1.25rem 2rem;
      margin-top: 2.5rem;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .footer-inner {
      max-width: 1120px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .footer-links {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .footer-links a:hover {
      text-decoration: underline;
      color: var(--primary-dark);
    }

    @media (max-width: 900px) {
      .layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 720px) {
      .nav-links {
        display: none;
      }
      .btn-full {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <nav class="nav">
      <div class="logo">
        <div class="logo-icon">CE</div>
        <a href="index.html"><span>CovoitExpress</span></a>
      </div>
      <div class="nav-links">
        <a href="index.html#comment-ca-marche">Comment ça marche</a>
        <a href="index.html#confiance">Sécurité & Confiance</a>
        <a href="index.html#aide">Centre d'aide</a>
      </div>
      <div class="nav-cta">
        <a href="connexion.html" class="btn btn-outline">Se connecter</a>
        <a href="proposer.html" class="btn btn-primary">Proposer un trajet</a>
      </div>
    </nav>
  </header>

  <main>
    <div class="page-header">
      <h1 class="page-title">Proposer un trajet</h1>
      <p class="page-subtitle">
        Indique ton trajet, le nombre de places et tes préférences. Nous te suggérons un prix juste en fonction
        de la distance et des habitudes de la communauté.
      </p>
    </div>

    <div class="layout">
      <!-- Formulaire principal -->
      <section class="card">
        <h2 class="section-title">Détails du trajet</h2>

        <form id="tripForm">
          <!-- Lignes départ / arrivée -->
          <div class="form-row">
            <div class="field">
              <label for="from">
                Ville de départ
                <span class="chip-inline">Point de rendez-vous précis</span>
              </label>
              <input class="field-input" type="text" id="from" placeholder="Paris, Gare de Lyon" required />
              <div class="hint">Tu pourras préciser le lieu exact dans la messagerie.</div>
            </div>
            <div class="field">
              <label for="to">Ville d'arrivée</label>
              <input class="field-input" type="text" id="to" placeholder="Lyon, Part-Dieu" required />
            </div>
          </div>

          <!-- Dates et heures -->
          <div class="form-row">
            <div class="field">
              <label for="date">Date de départ</label>
              <input class="field-input" type="date" id="date" required />
            </div>
            <div class="field">
              <label for="time">Heure de départ</label>
              <input class="field-input" type="time" id="time" required />
            </div>
          </div>

          <!-- Retour optionnel -->
          <div class="form-row">
            <div class="field">
              <label for="returnDate">
                Trajet retour (optionnel)
                <span class="hint">Si tu fais l'aller-retour</span>
              </label>
              <input class="field-input" type="date" id="returnDate" />
            </div>
            <div class="field">
              <label for="returnTime">Heure du retour</label>
              <input class="field-input" type="time" id="returnTime" />
            </div>
          </div>

          <div class="separator"></div>

          <!-- Prix & places -->
          <div class="form-row">
            <div class="field">
              <label for="seats">
                Places disponibles
              </label>
              <select class="field-select" id="seats" required>
                <option value="1">1 place</option>
                <option value="2">2 places</option>
                <option value="3">3 places</option>
                <option value="4">4 places</option>
              </select>
              <div class="hint">Ne compte pas la place conducteur.</div>
            </div>
            <div class="field">
              <label for="price">
                Prix par passager (€)
              </label>
              <div class="price-input-group">
                <input class="field-input" type="number" id="price" min="1" step="1" placeholder="Ex : 20" required />
                <span>/ passager</span>
              </div>
              <div class="hint" id="priceHint">Nous calculerons une estimation totale automatiquement.</div>
            </div>
          </div>

          <div class="separator"></div>

          <!-- Véhicule -->
          <h2 class="section-title" style="margin-top:0.2rem;">Véhicule & confort</h2>

          <div class="form-row">
            <div class="field">
              <label for="carModel">Modèle de voiture</label>
              <input class="field-input" type="text" id="carModel" placeholder="Renault Clio, Peugeot 308…" />
              <div class="hint">Un modèle clair rassure les passagers.</div>
            </div>
            <div class="field">
              <label for="carColor">Couleur de la voiture</label>
              <input class="field-input" type="text" id="carColor" placeholder="Bleu, gris, noir…" />
            </div>
          </div>

          <div class="form-row">
            <div class="field">
              <label for="luggage">Bagages</label>
              <select class="field-select" id="luggage">
                <option value="petit">Petit sac / sac à dos</option>
                <option value="cabin">Valise cabine</option>
                <option value="grande">Grande valise possible</option>
              </select>
            </div>
            <div class="field">
              <label for="music">Ambiance à bord</label>
              <select class="field-select" id="music">
                <option value="discut">On discute volontiers</option>
                <option value="calme">Plutôt calme</option>
                <option value="musique">Musique en fond</option>
              </select>
            </div>
          </div>

          <!-- Options / préférences -->
          <div class="field">
            <label>Préférences</label>
            <div class="options-grid">
              <label class="option-pill">
                <input type="checkbox" id="petsAllowed" />
                <span>Animaux acceptés</span>
              </label>
              <label class="option-pill">
                <input type="checkbox" id="smoking" />
                <span>Non-fumeur</span>
              </label>
              <label class="option-pill">
                <input type="checkbox" id="mask" />
                <span>Masque recommandé</span>
              </label>
              <label class="option-pill">
                <input type="checkbox" id="detour" />
                <span>Petits détours possibles</span>
              </label>
            </div>
          </div>

          <!-- Message aux passagers -->
          <div class="field">
            <label for="message">Message aux passagers</label>
            <textarea class="field-textarea" id="message" placeholder="Ex : Je pars à l'heure, pause sur une aire d'autoroute, animaux acceptés si propres…"></textarea>
          </div>

          <!-- Conditions -->
          <div class="checkbox-row">
            <input type="checkbox" id="terms" />
            <label for="terms">
              Je confirme respecter le code de la route, ne pas faire de ce trajet une activité professionnelle
              et accepter les conditions générales de la plateforme.
            </label>
          </div>

          <!-- Submit -->
          <div class="submit-row">
            <button class="btn btn-primary btn-full" type="submit">
              Publier mon trajet
            </button>
            <div class="submit-note" id="summaryNote">
              Montant total estimé : – €
            </div>
          </div>
        </form>
      </section>

      <!-- Sidebar récap -->
      <aside class="card">
        <span class="badge">
          ✓ Conseils pour un trajet qui se remplit vite
        </span>

        <div class="summary-row">
          <span>Recommandation prix</span>
          <span id="recPrice">– € / passager</span>
        </div>
        <div class="summary-row">
          <span>Revenu total estimé</span>
          <span id="totalAmount">– €</span>
        </div>
        <div class="summary-row">
          <span>CO₂ économisé*</span>
          <span id="co2Saved">– kg</span>
        </div>

        <div class="separator" style="margin-top:0.6rem;"></div>

        <div class="tips-list">
          <div>• Fixe un prix raisonnable pour que ton trajet se remplisse plus rapidement.</div>
          <div>• Renseigne bien l’heure de départ réelle et évite les gros retards.</div>
          <div>• Un profil complet (photo, infos voiture) inspire davantage confiance.</div>
          <div style="font-size:0.75rem; margin-top:0.4rem;">
            *Estimation indicative par rapport à des trajets individuels en voiture.
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer>
    <div class="footer-inner">
      <div>© <span id="year"></span> CovoitExpress – Exemple de site de covoiturage.</div>
      <div class="footer-links">
        <a href="#">Mentions légales</a>
        <a href="#">Confidentialité</a>
        <a href="#">Cookies</a>
      </div>
    </div>
  </footer>

  <script>
    // Année footer
    document.getElementById("year").textContent = new Date().getFullYear();

    const priceInput = document.getElementById("price");
    const seatsSelect = document.getElementById("seats");
    const recPrice = document.getElementById("recPrice");
    const totalAmount = document.getElementById("totalAmount");
    const co2Saved = document.getElementById("co2Saved");
    const summaryNote = document.getElementById("summaryNote");
    const form = document.getElementById("tripForm");

    // Estimation simple : prix conseillé + revenu + CO₂
    function updateEstimates() {
      const price = Number(priceInput.value || 0);
      const seats = Number(seatsSelect.value || 1);

      if (!price) {
        recPrice.textContent = "– € / passager";
        totalAmount.textContent = "– €";
        co2Saved.textContent = "– kg";
        summaryNote.textContent = "Montant total estimé : – €";
        return;
      }

      // suggérer un prix autour de celui saisi (dummy)
      const suggested = Math.round(price * 0.9);
      const total = price * seats;

      recPrice.textContent = suggested + " € / passager";
      totalAmount.textContent = total + " €";
      summaryNote.textContent = "Montant total estimé : " + total + " €";

      // estimation CO2 : 0.15 kg / km / passager * trajet moyen 400 km * seats
      const approxCo2 = Math.round(0.15 * 400 * seats);
      co2Saved.textContent = approxCo2 + " kg";
    }

    priceInput.addEventListener("input", updateEstimates);
    seatsSelect.addEventListener("change", updateEstimates);

    // Pré-remplir éventuellement from/to depuis URL si on vient d'une recherche
    const params = new URLSearchParams(window.location.search);
    if (params.get("from")) document.getElementById("from").value = params.get("from");
    if (params.get("to")) document.getElementById("to").value = params.get("to");
    if (params.get("date")) document.getElementById("date").value = params.get("date");

    // Soumission "fake" (sans backend)
    form.addEventListener("submit", (e) => {
      e.preventDefault();

      if (!document.getElementById("terms").checked) {
        alert("Merci de confirmer que tu acceptes les conditions avant de publier ton trajet.");
        return;
      }

      const from = document.getElementById("from").value;
      const to = document.getElementById("to").value;
      const date = document.getElementById("date").value;
      const time = document.getElementById("time").value;
      const seats = document.getElementById("seats").value;

      alert(
        "Ton trajet " +
          from + " → " + to +
          " le " + date +
          " à " + time +
          " pour " + seats +
          " place(s) a été simulé comme publié ✅ (à connecter plus tard à un vrai backend)."
      );

      // Ici, plus tard : envoyer les données à ton API avec fetch()
    });
  </script>
</body>
</html>
